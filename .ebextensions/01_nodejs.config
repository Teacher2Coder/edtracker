option_settings:
  aws:elasticbeanstalk:application:environment:
    NODE_ENV: production
    NPM_USE_PRODUCTION: false
    SKIP_SEEDING: true
  aws:elasticbeanstalk:command:
    Timeout: 2400
  aws:autoscaling:launchconfiguration:
    InstanceType: t3.micro
    SecurityGroups: default

container_commands:
  01_show_structure:
    command: "pwd && ls -la"
    cwd: "/var/app/ondeck"
    ignoreErrors: true
  02_install_server:
    command: "cd server && pwd && ls -la && npm install --production"
    cwd: "/var/app/ondeck"
  03_install_client:
    command: "cd client && pwd && ls -la && npm install"
    cwd: "/var/app/ondeck"
  04_build_client:
    command: "cd client && npm run build"
    cwd: "/var/app/ondeck" 